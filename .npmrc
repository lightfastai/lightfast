# Core settings
auto-install-peers=true
enable-pre-post-scripts=true

# Workspace settings (monorepo)
link-workspace-packages=true
prefer-workspace-packages=true
shared-workspace-lockfile=true

# Use pnpm's default isolated mode for better dependency isolation
# node-linker=isolated  # This is the default, no need to set explicitly

# Performance: Parallel downloads
network-concurrency=16

# Performance: Better retry strategy
fetch-retries=3
fetch-retry-mintimeout=10000
fetch-retry-maxtimeout=60000

# Performance: Cache install scripts
side-effects-cache=true
side-effects-cache-readonly=false

# Performance: Optimal linking method (hardlink when possible)
package-import-method=auto

# Performance: Cache node_modules for 7 days
modules-cache-max-age=604800

# Note: Use --frozen-lockfile flag in CI instead of setting globally
# Note: Use --prefer-offline flag when needed instead of setting globally
