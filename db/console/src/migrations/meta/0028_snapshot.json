{
  "id": "008b398d-491b-46f3-aca7-f6d8a70213c5",
  "prevId": "0a9699ad-ea35-4615-b956-7da63edb3d8e",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.lightfast_user_api_keys": {
      "name": "lightfast_user_api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(191)",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "key_hash": {
          "name": "key_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key_prefix": {
          "name": "key_prefix",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "key_suffix": {
          "name": "key_suffix",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "api_key_user_id_idx": {
          "name": "api_key_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_key_is_active_idx": {
          "name": "api_key_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_key_hash_idx": {
          "name": "api_key_hash_idx",
          "columns": [
            {
              "expression": "key_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_user_sources": {
      "name": "lightfast_user_sources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(191)",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "scopes": {
          "name": "scopes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "provider_metadata": {
          "name": "provider_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "connected_at": {
          "name": "connected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "user_source_user_id_idx": {
          "name": "user_source_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_source_source_type_idx": {
          "name": "user_source_source_type_idx",
          "columns": [
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_source_is_active_idx": {
          "name": "user_source_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_source_user_source_type_idx": {
          "name": "user_source_user_source_type_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_org_workspaces": {
      "name": "lightfast_org_workspaces",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(191)",
          "primaryKey": true,
          "notNull": true
        },
        "clerk_org_id": {
          "name": "clerk_org_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "workspace_clerk_org_id_idx": {
          "name": "workspace_clerk_org_id_idx",
          "columns": [
            {
              "expression": "clerk_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workspace_org_name_idx": {
          "name": "workspace_org_name_idx",
          "columns": [
            {
              "expression": "clerk_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workspace_slug_idx": {
          "name": "workspace_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_api_keys": {
      "name": "lightfast_workspace_api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_workspace_api_keys_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "public_id": {
          "name": "public_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "clerk_org_id": {
          "name": "clerk_org_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "key_hash": {
          "name": "key_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key_prefix": {
          "name": "key_prefix",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "key_suffix": {
          "name": "key_suffix",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_from_ip": {
          "name": "last_used_from_ip",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "ws_api_key_workspace_id_idx": {
          "name": "ws_api_key_workspace_id_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ws_api_key_clerk_org_id_idx": {
          "name": "ws_api_key_clerk_org_id_idx",
          "columns": [
            {
              "expression": "clerk_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ws_api_key_hash_idx": {
          "name": "ws_api_key_hash_idx",
          "columns": [
            {
              "expression": "key_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ws_api_key_is_active_idx": {
          "name": "ws_api_key_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ws_api_key_workspace_active_idx": {
          "name": "ws_api_key_workspace_active_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_api_keys_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_api_keys_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_api_keys",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "lightfast_workspace_api_keys_public_id_unique": {
          "name": "lightfast_workspace_api_keys_public_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "public_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_knowledge_documents": {
      "name": "lightfast_workspace_knowledge_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(191)",
          "primaryKey": true,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "source_metadata": {
          "name": "source_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "parent_doc_id": {
          "name": "parent_doc_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true
        },
        "content_hash": {
          "name": "content_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "config_hash": {
          "name": "config_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "chunk_count": {
          "name": "chunk_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "relationships": {
          "name": "relationships",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_docs_workspace": {
          "name": "idx_docs_workspace",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_docs_workspace_slug": {
          "name": "idx_docs_workspace_slug",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_docs_source_type": {
          "name": "idx_docs_source_type",
          "columns": [
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_docs_source_id": {
          "name": "idx_docs_source_id",
          "columns": [
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uq_docs_workspace_source": {
          "name": "uq_docs_workspace_source",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_knowledge_documents_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_knowledge_documents_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_knowledge_documents",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_knowledge_vector_chunks": {
      "name": "lightfast_workspace_knowledge_vector_chunks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(191)",
          "primaryKey": true,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "doc_id": {
          "name": "doc_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "chunk_index": {
          "name": "chunk_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content_hash": {
          "name": "content_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "upserted_at": {
          "name": "upserted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_vec_workspace_doc": {
          "name": "idx_vec_workspace_doc",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uq_vec_unique": {
          "name": "uq_vec_unique",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "chunk_index",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "content_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_knowledge_vector_chunks_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_knowledge_vector_chunks_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_knowledge_vector_chunks",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lightfast_workspace_knowledge_vector_chunks_doc_id_lightfast_workspace_knowledge_documents_id_fk": {
          "name": "lightfast_workspace_knowledge_vector_chunks_doc_id_lightfast_workspace_knowledge_documents_id_fk",
          "tableFrom": "lightfast_workspace_knowledge_vector_chunks",
          "tableTo": "lightfast_workspace_knowledge_documents",
          "columnsFrom": [
            "doc_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_integrations": {
      "name": "lightfast_workspace_integrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(191)",
          "primaryKey": true,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "user_source_id": {
          "name": "user_source_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "connected_by": {
          "name": "connected_by",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "source_config": {
          "name": "source_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "provider_resource_id": {
          "name": "provider_resource_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_status": {
          "name": "last_sync_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_error": {
          "name": "last_sync_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_count": {
          "name": "document_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "connected_at": {
          "name": "connected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "workspace_source_workspace_id_idx": {
          "name": "workspace_source_workspace_id_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workspace_source_user_source_id_idx": {
          "name": "workspace_source_user_source_id_idx",
          "columns": [
            {
              "expression": "user_source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workspace_source_connected_by_idx": {
          "name": "workspace_source_connected_by_idx",
          "columns": [
            {
              "expression": "connected_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workspace_source_is_active_idx": {
          "name": "workspace_source_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workspace_source_provider_resource_id_idx": {
          "name": "workspace_source_provider_resource_id_idx",
          "columns": [
            {
              "expression": "provider_resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_integrations_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_integrations_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_integrations",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lightfast_workspace_integrations_user_source_id_lightfast_user_sources_id_fk": {
          "name": "lightfast_workspace_integrations_user_source_id_lightfast_user_sources_id_fk",
          "tableFrom": "lightfast_workspace_integrations",
          "tableTo": "lightfast_user_sources",
          "columnsFrom": [
            "user_source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_workflow_runs": {
      "name": "lightfast_workspace_workflow_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_workspace_workflow_runs_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "clerk_org_id": {
          "name": "clerk_org_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "repository_id": {
          "name": "repository_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "inngest_run_id": {
          "name": "inngest_run_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "inngest_function_id": {
          "name": "inngest_function_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "trigger": {
          "name": "trigger",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "output": {
          "name": "output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "job_clerk_org_id_idx": {
          "name": "job_clerk_org_id_idx",
          "columns": [
            {
              "expression": "clerk_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "job_workspace_id_idx": {
          "name": "job_workspace_id_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "job_repository_id_idx": {
          "name": "job_repository_id_idx",
          "columns": [
            {
              "expression": "repository_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "job_status_idx": {
          "name": "job_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "job_inngest_run_id_idx": {
          "name": "job_inngest_run_id_idx",
          "columns": [
            {
              "expression": "inngest_run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "job_workspace_created_at_idx": {
          "name": "job_workspace_created_at_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_workflow_runs_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_workflow_runs_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_workflow_runs",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_operations_metrics": {
      "name": "lightfast_workspace_operations_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_workspace_operations_metrics_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "clerk_org_id": {
          "name": "clerk_org_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "repository_id": {
          "name": "repository_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "ops_metric_clerk_org_id_idx": {
          "name": "ops_metric_clerk_org_id_idx",
          "columns": [
            {
              "expression": "clerk_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ops_metric_workspace_id_idx": {
          "name": "ops_metric_workspace_id_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ops_metric_repository_id_idx": {
          "name": "ops_metric_repository_id_idx",
          "columns": [
            {
              "expression": "repository_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ops_metric_type_idx": {
          "name": "ops_metric_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ops_metric_workspace_type_timestamp_idx": {
          "name": "ops_metric_workspace_type_timestamp_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ops_metric_timestamp_idx": {
          "name": "ops_metric_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_operations_metrics_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_operations_metrics_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_operations_metrics",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_user_activities": {
      "name": "lightfast_workspace_user_activities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_workspace_user_activities_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "actor_type": {
          "name": "actor_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "actor_email": {
          "name": "actor_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "actor_ip": {
          "name": "actor_ip",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_name": {
          "name": "entity_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "request_id": {
          "name": "request_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_activity_id": {
          "name": "related_activity_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "activity_workspace_timestamp_idx": {
          "name": "activity_workspace_timestamp_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_actor_idx": {
          "name": "activity_actor_idx",
          "columns": [
            {
              "expression": "actor_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_category_idx": {
          "name": "activity_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_entity_idx": {
          "name": "activity_entity_idx",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_category_timestamp_idx": {
          "name": "activity_category_timestamp_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_related_idx": {
          "name": "activity_related_idx",
          "columns": [
            {
              "expression": "related_activity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_timestamp_idx": {
          "name": "activity_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_workspace_category_timestamp_idx": {
          "name": "activity_workspace_category_timestamp_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_user_activities_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_user_activities_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_user_activities",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_neural_observations": {
      "name": "lightfast_workspace_neural_observations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_workspace_neural_observations_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(21)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "cluster_id": {
          "name": "cluster_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "actor": {
          "name": "actor",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "actor_id": {
          "name": "actor_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "observation_type": {
          "name": "observation_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "topics": {
          "name": "topics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "significance_score": {
          "name": "significance_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "source_references": {
          "name": "source_references",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "embedding_vector_id": {
          "name": "embedding_vector_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "embedding_title_id": {
          "name": "embedding_title_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "embedding_content_id": {
          "name": "embedding_content_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "embedding_summary_id": {
          "name": "embedding_summary_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "ingestion_source": {
          "name": "ingestion_source",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'webhook'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "obs_external_id_idx": {
          "name": "obs_external_id_idx",
          "columns": [
            {
              "expression": "external_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "obs_workspace_occurred_idx": {
          "name": "obs_workspace_occurred_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "occurred_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "obs_cluster_idx": {
          "name": "obs_cluster_idx",
          "columns": [
            {
              "expression": "cluster_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "obs_source_idx": {
          "name": "obs_source_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "obs_source_id_idx": {
          "name": "obs_source_id_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "obs_type_idx": {
          "name": "obs_type_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "observation_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "obs_embedding_title_idx": {
          "name": "obs_embedding_title_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "embedding_title_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "obs_embedding_content_idx": {
          "name": "obs_embedding_content_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "embedding_content_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "obs_embedding_summary_idx": {
          "name": "obs_embedding_summary_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "embedding_summary_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_neural_observations_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_neural_observations_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_neural_observations",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "lightfast_workspace_neural_observations_external_id_unique": {
          "name": "lightfast_workspace_neural_observations_external_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "external_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_observation_clusters": {
      "name": "lightfast_workspace_observation_clusters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_workspace_observation_clusters_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(21)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "topic_label": {
          "name": "topic_label",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "topic_embedding_id": {
          "name": "topic_embedding_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "primary_entities": {
          "name": "primary_entities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "primary_actors": {
          "name": "primary_actors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary_generated_at": {
          "name": "summary_generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "observation_count": {
          "name": "observation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "first_observation_at": {
          "name": "first_observation_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_observation_at": {
          "name": "last_observation_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "cluster_external_id_idx": {
          "name": "cluster_external_id_idx",
          "columns": [
            {
              "expression": "external_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "cluster_workspace_status_idx": {
          "name": "cluster_workspace_status_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "cluster_last_observation_idx": {
          "name": "cluster_last_observation_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "last_observation_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_observation_clusters_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_observation_clusters_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_observation_clusters",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "lightfast_workspace_observation_clusters_external_id_unique": {
          "name": "lightfast_workspace_observation_clusters_external_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "external_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_neural_entities": {
      "name": "lightfast_workspace_neural_entities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_workspace_neural_entities_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(21)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aliases": {
          "name": "aliases",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "source_observation_id": {
          "name": "source_observation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_snippet": {
          "name": "evidence_snippet",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0.8
        },
        "extracted_at": {
          "name": "extracted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "occurrence_count": {
          "name": "occurrence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "entity_external_id_idx": {
          "name": "entity_external_id_idx",
          "columns": [
            {
              "expression": "external_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_workspace_category_key_idx": {
          "name": "entity_workspace_category_key_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_workspace_category_idx": {
          "name": "entity_workspace_category_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_workspace_key_idx": {
          "name": "entity_workspace_key_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_workspace_last_seen_idx": {
          "name": "entity_workspace_last_seen_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "last_seen_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_neural_entities_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_neural_entities_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_neural_entities",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lightfast_workspace_neural_entities_source_observation_id_lightfast_workspace_neural_observations_id_fk": {
          "name": "lightfast_workspace_neural_entities_source_observation_id_lightfast_workspace_neural_observations_id_fk",
          "tableFrom": "lightfast_workspace_neural_entities",
          "tableTo": "lightfast_workspace_neural_observations",
          "columnsFrom": [
            "source_observation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "lightfast_workspace_neural_entities_external_id_unique": {
          "name": "lightfast_workspace_neural_entities_external_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "external_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_actor_profiles": {
      "name": "lightfast_workspace_actor_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_workspace_actor_profiles_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(21)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "actor_id": {
          "name": "actor_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "observation_count": {
          "name": "observation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "profile_confidence": {
          "name": "profile_confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "actor_profile_external_id_idx": {
          "name": "actor_profile_external_id_idx",
          "columns": [
            {
              "expression": "external_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "actor_profile_unique_idx": {
          "name": "actor_profile_unique_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "actor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "actor_profile_workspace_idx": {
          "name": "actor_profile_workspace_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "actor_profile_last_active_idx": {
          "name": "actor_profile_last_active_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "last_active_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_actor_profiles_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_actor_profiles_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_actor_profiles",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "lightfast_workspace_actor_profiles_external_id_unique": {
          "name": "lightfast_workspace_actor_profiles_external_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "external_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_org_actor_identities": {
      "name": "lightfast_org_actor_identities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_org_actor_identities_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "clerk_org_id": {
          "name": "clerk_org_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "canonical_actor_id": {
          "name": "canonical_actor_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "source_username": {
          "name": "source_username",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "source_email": {
          "name": "source_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "mapping_method": {
          "name": "mapping_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "mapped_by": {
          "name": "mapped_by",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "mapped_at": {
          "name": "mapped_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "org_actor_identity_unique_idx": {
          "name": "org_actor_identity_unique_idx",
          "columns": [
            {
              "expression": "clerk_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "org_actor_identity_canonical_idx": {
          "name": "org_actor_identity_canonical_idx",
          "columns": [
            {
              "expression": "clerk_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "canonical_actor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "org_actor_identity_clerk_user_idx": {
          "name": "org_actor_identity_clerk_user_idx",
          "columns": [
            {
              "expression": "clerk_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "org_actor_identity_username_idx": {
          "name": "org_actor_identity_username_idx",
          "columns": [
            {
              "expression": "clerk_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_username",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_temporal_states": {
      "name": "lightfast_workspace_temporal_states",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_workspace_temporal_states_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_name": {
          "name": "entity_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "state_type": {
          "name": "state_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "state_value": {
          "name": "state_value",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "previous_value": {
          "name": "previous_value",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "state_metadata": {
          "name": "state_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "valid_to": {
          "name": "valid_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "changed_by_actor_id": {
          "name": "changed_by_actor_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "change_reason": {
          "name": "change_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_observation_id": {
          "name": "source_observation_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "temporal_entity_time_idx": {
          "name": "temporal_entity_time_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "state_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "valid_from",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "temporal_current_idx": {
          "name": "temporal_current_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_current",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "temporal_workspace_entity_idx": {
          "name": "temporal_workspace_entity_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "temporal_source_obs_idx": {
          "name": "temporal_source_obs_idx",
          "columns": [
            {
              "expression": "source_observation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_temporal_states_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_temporal_states_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_temporal_states",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_webhook_payloads": {
      "name": "lightfast_workspace_webhook_payloads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_workspace_webhook_payloads_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "delivery_id": {
          "name": "delivery_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "headers": {
          "name": "headers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ingestion_source": {
          "name": "ingestion_source",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'webhook'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "webhook_payload_workspace_received_idx": {
          "name": "webhook_payload_workspace_received_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "received_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhook_payload_delivery_idx": {
          "name": "webhook_payload_delivery_idx",
          "columns": [
            {
              "expression": "delivery_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhook_payload_workspace_source_idx": {
          "name": "webhook_payload_workspace_source_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_webhook_payloads_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_webhook_payloads_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_webhook_payloads",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lightfast_workspace_observation_relationships": {
      "name": "lightfast_workspace_observation_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "lightfast_workspace_observation_relationships_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(21)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true
        },
        "source_observation_id": {
          "name": "source_observation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "target_observation_id": {
          "name": "target_observation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "linking_key": {
          "name": "linking_key",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "linking_key_type": {
          "name": "linking_key_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "ws_obs_rel_external_id_idx": {
          "name": "ws_obs_rel_external_id_idx",
          "columns": [
            {
              "expression": "external_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ws_obs_rel_source_idx": {
          "name": "ws_obs_rel_source_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_observation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ws_obs_rel_target_idx": {
          "name": "ws_obs_rel_target_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_observation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ws_obs_rel_linking_key_idx": {
          "name": "ws_obs_rel_linking_key_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "linking_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ws_obs_rel_unique_edge_idx": {
          "name": "ws_obs_rel_unique_edge_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_observation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_observation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "relationship_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lightfast_workspace_observation_relationships_workspace_id_lightfast_org_workspaces_id_fk": {
          "name": "lightfast_workspace_observation_relationships_workspace_id_lightfast_org_workspaces_id_fk",
          "tableFrom": "lightfast_workspace_observation_relationships",
          "tableTo": "lightfast_org_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lightfast_workspace_observation_relationships_source_observation_id_lightfast_workspace_neural_observations_id_fk": {
          "name": "lightfast_workspace_observation_relationships_source_observation_id_lightfast_workspace_neural_observations_id_fk",
          "tableFrom": "lightfast_workspace_observation_relationships",
          "tableTo": "lightfast_workspace_neural_observations",
          "columnsFrom": [
            "source_observation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lightfast_workspace_observation_relationships_target_observation_id_lightfast_workspace_neural_observations_id_fk": {
          "name": "lightfast_workspace_observation_relationships_target_observation_id_lightfast_workspace_neural_observations_id_fk",
          "tableFrom": "lightfast_workspace_observation_relationships",
          "tableTo": "lightfast_workspace_neural_observations",
          "columnsFrom": [
            "target_observation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "lightfast_workspace_observation_relationships_external_id_unique": {
          "name": "lightfast_workspace_observation_relationships_external_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "external_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}