---
date: 2026-02-07
git_sha: 7c3f42da4b05a4db0f639fdcc6ba405d90171529
branch: feat/arch-eval-pipeline-phase-2
---

# Architecture Evaluation Report

**Evaluation Date**: 2026-02-07
**Git SHA**: `7c3f42d`
**Branch**: feat/arch-eval-pipeline-phase-2
**Signal Ratio**: 100% (8 of 8 findings are Tier 1/2)

## Summary

This evaluation detected **8 findings** across 3 tools.

**Finding Distribution**:
- **Tier 1 (Critical)**: 3 findings — require immediate attention
- **Tier 2 (Important)**: 5 findings — should be addressed in upcoming work
- **Tier 3 (Informational)**: 0 findings — can be fixed opportunistically

**Tools Used**:
- dependency-cruiser
- turbo-boundaries
- knip

---

## Tier 1 Findings (Critical)

### BND-001: Packages importing from API layer (6 violations)

**Dimension**: boundary_integrity  
**Tool**: dependency-cruiser  
**Rule**: no-package-to-api-imports  
**File**: `packages/chat-trpc/src/server.tsx`  
**Auto-fixable**: No  

6 violation(s) detected:
- packages/chat-trpc/src/server.tsx → api/chat/src/index.ts
- packages/chat-api-services/src/usage.ts → api/chat/src/index.ts
- packages/console-trpc/src/server.tsx → api/console/src/index.ts
- packages/chat-trpc/dist/server.jsx → api/chat/src/index.ts
- packages/console-test-data/src/trigger/trigger.ts → api/console/src/inngest/client/client.ts
... and 1 more

**Recommended Action**: Address immediately. This is a critical architectural violation.

### BND-002: Apps importing from DB directly (31 violations)

**Dimension**: boundary_integrity  
**Tool**: dependency-cruiser  
**Rule**: no-app-to-db-imports  
**File**: `apps/chat/src/env.ts`  
**Auto-fixable**: No  

31 violation(s) detected:
- apps/chat/src/env.ts → db/chat/env.ts
- apps/chat/src/hooks/use-create-session.ts → db/chat/src/constants.ts
- apps/console/src/env.ts → db/console/env.ts
- apps/console/src/app/(api)/v1/lib/with-dual-auth.ts → db/console/src/client.ts
- apps/console/src/app/(api)/v1/lib/with-dual-auth.ts → db/console/src/schema/index.ts
... and 26 more

**Recommended Action**: Address immediately. This is a critical architectural violation.

### TYP-001: Missing strict mode in 64 tsconfig files

**Dimension**: type_safety  
**Tool**: tsconfig-checker  
**Rule**: missing-strict-mode  
**Auto-fixable**: Yes  

64 tsconfig.json files do not have "strict": true:
- api/chat/tsconfig.json
- api/console/tsconfig.json
- core/ai-sdk/tsconfig.json
- core/cli/tsconfig.json
- core/lightfast/tsconfig.json
... and 59 more

**Recommended Action**: Address immediately. This is a critical architectural violation.

---

## Tier 2 Findings (Important)

### TYP-002: Excessive 'any' usage in apps (21 occurrences)

**Dimension**: type_safety  
**Tool**: grep  
**Rule**: excessive-any-usage  
**File**: `apps`  
**Auto-fixable**: No  

apps has 21 'any' type usages (threshold: 5)

**Recommended Action**: Plan a fix using `/create_plan` to address this in the next sprint.

### TYP-003: Excessive 'any' usage in api (2088 occurrences)

**Dimension**: type_safety  
**Tool**: grep  
**Rule**: excessive-any-usage  
**File**: `api`  
**Auto-fixable**: No  

api has 2088 'any' type usages (threshold: 5)

**Recommended Action**: Plan a fix using `/create_plan` to address this in the next sprint.

### TYP-004: Excessive 'any' usage in packages (16 occurrences)

**Dimension**: type_safety  
**Tool**: grep  
**Rule**: excessive-any-usage  
**File**: `packages`  
**Auto-fixable**: No  

packages has 16 'any' type usages (threshold: 5)

**Recommended Action**: Plan a fix using `/create_plan` to address this in the next sprint.

### TYP-005: Excessive 'any' usage in vendor (21 occurrences)

**Dimension**: type_safety  
**Tool**: grep  
**Rule**: excessive-any-usage  
**File**: `vendor`  
**Auto-fixable**: No  

vendor has 21 'any' type usages (threshold: 5)

**Recommended Action**: Plan a fix using `/create_plan` to address this in the next sprint.

### TYP-006: Excessive 'any' usage in core (40 occurrences)

**Dimension**: type_safety  
**Tool**: grep  
**Rule**: excessive-any-usage  
**File**: `core`  
**Auto-fixable**: No  

core has 40 'any' type usages (threshold: 5)

**Recommended Action**: Plan a fix using `/create_plan` to address this in the next sprint.

---

## Changes Since Last Run

### Compared to Baseline (`2026-02-07-initial-baseline.json`)

**New Findings Since Baseline** (6):
- TYP-001: Missing strict mode in 64 tsconfig files
- TYP-002: Excessive 'any' usage in apps (21 occurrences)
- TYP-003: Excessive 'any' usage in api (2088 occurrences)
- TYP-004: Excessive 'any' usage in packages (16 occurrences)
- TYP-005: Excessive 'any' usage in vendor (21 occurrences)
- ... and 1 more

**Resolved Since Baseline** (4):
- BND-003: Apps importing from DB layer directly (31 violations)
- BND-004: Deep imports from vendor packages leaving boundaries
- BND-005: Type-only imports not declared as such
- DEP-001: Undeclared dependencies

**Baseline Comparison**:
- Total findings: 6 → 8 (+2)
- Tier 1: 2 → 3 (+1)
- Signal ratio: 83% → 100%

### Compared to Previous Run

*No changes since previous run.*


---

## Metrics

- **Packages Evaluated**: 2138 of 2138 (100%)
- **Total Findings**: 8
- **Signal Ratio**: 100%
- **False Positive Rate**: < 5% (estimated)

---

**Generated by**: Architecture Evaluation Pipeline v0.1.0
**Evaluation ID**: `2026-02-07-7c3f42d`
