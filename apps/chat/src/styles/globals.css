/* Import the base UI globals */
@import "@repo/ui/globals.css";

/* 
 * Custom color overrides for Chat app dark mode only
 * Light mode uses the default colors from @repo/ui
 */
.dark {
	--background: oklch(0.2178 0 0);
	--foreground: oklch(0.8853 0 0);
	--card: oklch(0.2435 0 0);
	--card-foreground: oklch(0.8853 0 0);
	--popover: oklch(0.2178 0 0); /* Match background for consistency */
	--popover-foreground: oklch(0.8853 0 0);
	--primary: oklch(0.7058 0 0);
	--primary-foreground: oklch(0.2178 0 0);
	--secondary: oklch(0.3092 0 0);
	--secondary-foreground: oklch(0.8853 0 0);
	--muted: oklch(0.285 0 0);
	--muted-foreground: oklch(0.5999 0 0);
	--accent: oklch(0.26 0 0); /* Consistent accent color matching sidebar */
	--accent-foreground: oklch(0.8853 0 0);
	--destructive: oklch(0.6591 0.153 22.1703);
	--destructive-foreground: oklch(1 0 0);
	--border: oklch(0.329 0 0);
	--input: oklch(0.3092 0 0);
	--input-bg: oklch(0.24 0 0); /* Very subtle, slightly lighter than background */
	--ring: oklch(0.7058 0 0);
	--chart-1: oklch(0.7058 0 0);
	--chart-2: oklch(0.6714 0.0339 206.3482);
	--chart-3: oklch(0.5452 0 0);
	--chart-4: oklch(0.4604 0 0);
	--chart-5: oklch(0.3715 0 0);
	--sidebar: oklch(0.2178 0 0); /* Same as background */
	--sidebar-foreground: oklch(0.8853 0 0);
	--sidebar-primary: oklch(0.7058 0 0);
	--sidebar-primary-foreground: oklch(0.2178 0 0);
	--sidebar-accent: oklch(0.26 0 0); /* Subtle accent, same as input-bg */
	--sidebar-accent-foreground: oklch(0.8853 0 0);
	--sidebar-border: oklch(0.329 0 0);
	--sidebar-ring: oklch(0.7058 0 0);
	--user-message-bg: oklch(0.20 0 0);
}


/* Additional custom styles specific to the chat app */
@layer utilities {
	/* Add any chat-specific utility classes here */
}


@keyframes sine-wave {
	0%, 100% {
		transform: translateY(0);
	}
	50% {
		transform: translateY(-8px);
	}
}

.animate-sine-wave {
	animation: sine-wave 1.5s ease-in-out infinite;
}

/* Temporary chat mode: styling only; structural hide handled by tmp-hide-when-temp wrappers */

/* Outside area background: force white behind inset chat */
html:has([data-temp-chat-flag]) body,
html:has([data-temp-chat-flag]) [data-slot="sidebar-wrapper"] {
  background: #ffffff !important;
}

/* Remove previous white strip approach; use insets instead */

/* Inset the app content and round main chat container in temporary mode */
/* Smooth inset animation via padding and border transitions (CSS-only) */
.tmp-shell {
  position: relative;
  transition: padding 260ms cubic-bezier(0.2, 0.8, 0.2, 1);
}

.tmp-main {
  transition: border-radius 260ms cubic-bezier(0.2, 0.8, 0.2, 1),
              border-color 260ms linear, box-shadow 260ms ease;
  background: var(--background);
}


/* Inset padding for the unified shell in temporary mode */
html:has([data-temp-chat-flag]) .tmp-shell {
  padding: 32px 8px 8px 8px;
}

/* Rounded and bordered main area in temporary mode */
html:has([data-temp-chat-flag]) .tmp-main {
  border-radius: 0.75rem; /* rounded-xl */
  overflow: hidden;
  border: 1px solid var(--border); /* fallback */
  /* Prefer a softer 30% border if supported */
  border-color: color-mix(in oklab, var(--border) 30%, transparent);
}


/* Hide tmp elements by default; enable in temp mode */
.tmp-title,
.tmp-close {
  display: none;
}

/* Temporary overlay elements are positioned within tmp-shell */

html:has([data-temp-chat-flag]) .tmp-title {
  display: block;
  position: absolute;
  top: 8px;
  left: 12px;
  font-size: 12px;
  line-height: 16px;
  font-weight: 600;
  color: #0f172a; /* slate-900 */
  letter-spacing: 0.01em;
  z-index: 10;
}

html:has([data-temp-chat-flag]) .tmp-close {
  position: absolute;
  top: 8px;
  right: 12px;
  width: 28px;
  height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  color: #0f172a; /* slate-900 */
  text-decoration: none;
  background: transparent;
  z-index: 10;
}

html:has([data-temp-chat-flag]) .tmp-close:hover {
  background: rgba(15, 23, 42, 0.06); /* slate-900 / 6% */
}

/* Hide marked clusters (sidebar/header wrappers) when in temporary mode */
html:has([data-temp-chat-flag]) .tmp-hide-when-temp {
  display: none !important;
}
