---
title: Data Analyst Agent
description: Build an AI data analyst for insights
---

# Data Analyst Agent

Create an intelligent data analyst that can query databases, analyze data, and generate insights.

## Core Setup

```typescript
import { Agent } from '@lightfast/sdk';

const dataAnalyst = new Agent({
  name: 'data-analyst',
  model: 'gpt-4',
  tools: [
    'sql-query',
    'python-executor',
    'chart-generator',
    'statistical-analysis'
  ],
  instructions: `
    You are a data analyst specializing in business intelligence.
    Generate actionable insights from data.
    Always validate data quality before analysis.
  `
});
```

## SQL Query Generation

```typescript
async function analyzeDatabase(question: string) {
  // Generate SQL
  const sql = await dataAnalyst.execute({
    input: `Generate SQL query for: ${question}`,
    context: { schema: getDatabaseSchema() }
  });
  
  // Execute query
  const results = await db.query(sql.query);
  
  // Analyze results
  const insights = await dataAnalyst.execute({
    input: 'Analyze these query results',
    context: { question, results }
  });
  
  return { sql: sql.query, data: results, insights };
}
```

## Data Visualization

```typescript
const visualizer = new Agent({
  tools: ['plotly', 'matplotlib'],
  
  async createVisualization(data: any[], type: string) {
    const chart = await this.execute({
      input: `Create ${type} visualization`,
      context: { data },
      parameters: {
        library: 'plotly',
        interactive: true
      }
    });
    
    return {
      html: chart.html,
      config: chart.config,
      insights: chart.insights
    };
  }
});
```

## Statistical Analysis

```typescript
async function performAnalysis(dataset: any[]) {
  const analysis = await dataAnalyst.execute({
    input: 'Perform comprehensive statistical analysis',
    context: { dataset },
    tools: ['numpy', 'pandas', 'scipy']
  });
  
  return {
    summary: analysis.summary,
    correlations: analysis.correlations,
    outliers: analysis.outliers,
    trends: analysis.trends,
    recommendations: analysis.recommendations
  };
}
```

## Report Generation

```typescript
class ReportGenerator {
  async generateReport(data: AnalysisResults) {
    const report = await dataAnalyst.execute({
      input: 'Generate executive summary report',
      context: data,
      parameters: {
        format: 'pdf',
        includeCharts: true,
        executiveSummary: true
      }
    });
    
    return {
      pdf: report.pdf,
      keyFindings: report.findings,
      recommendations: report.recommendations
    };
  }
}
```

## Real-time Dashboard

```typescript
const dashboardAgent = new Agent({
  name: 'dashboard-monitor',
  
  async updateMetrics() {
    const metrics = await Promise.all([
      this.getRevenue(),
      this.getUserGrowth(),
      this.getChurnRate(),
      this.getPerformance()
    ]);
    
    const analysis = await this.execute({
      input: 'Analyze current business metrics',
      context: { metrics }
    });
    
    return {
      metrics,
      alerts: analysis.alerts,
      trends: analysis.trends
    };
  }
});
```

## Predictive Analytics

```typescript
async function predictTrends(historicalData: any[]) {
  const prediction = await dataAnalyst.execute({
    input: 'Predict future trends',
    context: { historicalData },
    tools: ['scikit-learn', 'prophet'],
    parameters: {
      horizon: 30, // days
      confidence: 0.95
    }
  });
  
  return {
    forecast: prediction.forecast,
    confidence: prediction.confidence,
    factors: prediction.keyFactors
  };
}
```

Transform data into decisions with AI-powered analysis!